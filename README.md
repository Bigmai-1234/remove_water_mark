# remove_water_mark
## 这是一个用来去除水印的小demo。
## 适合于去除水印颜色较浅，保留元素颜色较深的图片。
## 比如白底黑字，但带白色或灰色的图片或者其他彩色图片但有白色或灰色水印
## 该算法对于偏暗的图片去水印的效果不是很好。

基于滑动窗口的图片去水印方法
传统去水印方式是统计图片上水印的像素值范围，将RGB值属于某一范围内的像素赋值为[0,0,0]或[255,255,255]已达到去水印效果。
但对于受光照影响或本身图片较暗的图片，上述去水印方法效果不理想。
针对以上特征的图片，采用局部去水印的方式。

具体体现在三个改进点上：
1、	利用滑动窗口分割图片
2、	针对局部图片采用像素替换的方案A。
像素替换方案A：
图片中需要识别的文字均为黑色，其对应的像素值低。图片中水印位置以及有光照的位置颜色偏白，对应的像素值较高。
将RGB值和高于某个阈值的像素，重置其像素值为[255,255,255]即将颜色置为为白色。达到去除水印的效果。该阈值的设定根据整体像素和的分位数来确定。

滑动窗口的设计让算法关注于局部的颜色差异，分位数的设计让需要改变的像素点根据局部的情况独立确定，避免全局的明暗和其他元素（如国徽）等的影响。
3、通过将滑动窗口由小至大的调整，可以进一步增强去水印的效果，使得去除水印后的文字像素损失进一步降低。

